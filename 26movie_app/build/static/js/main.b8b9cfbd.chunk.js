(this.webpackJsonp26movie_app=this.webpackJsonp26movie_app||[]).push([[0],{46:function(e,t,a){"use strict";a.r(t);var i=a(2),s=a.n(i),n=a(17),c=a.n(n),o=a(3),r=a.n(o),l=a(7),d=a(18),m=a(19),p=a(21),v=a(20),f=a(8),u=a.n(f),b=a(0);var h=function(e){var t=e.rank,a=e.movieNm,i=e.poster;return Object(b.jsxs)("div",{className:"movie",children:[Object(b.jsxs)("h2",{className:"movie__rank",children:[t,"\uc704"]}),Object(b.jsx)("h1",{className:"movie__title",children:a}),Object(b.jsx)("img",{className:"movie__poster",src:i,alt:a,title:a})]})},j=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(d.a)(this,a);for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={isLoading:!0,today:"",week:"",movies:[]},e.onChange=function(){var t=Object(l.a)(r.a.mark((function t(a){var i,s,n,c,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),i=a.target.value,s=String(i).replace(/-/gi,""),t.next=5,u.a.get("https://kobis.or.kr/kobisopenapi/webservice/rest/boxoffice/searchWeeklyBoxOfficeList.json?key=52d6b26b7077c87da340d932eb3d4d85&targetDt=".concat(s));case 5:n=t.sent,(c=n.data.boxOfficeResult).weeklyBoxOfficeList.forEach((function(e){e.poster="https://file.cineq.co.kr/i.aspx?movieid=".concat(e.movieCd,"&size=210")})),o="".concat(c.yearWeekTime.slice(0,4),"\ub144 ").concat(c.yearWeekTime.slice(4),"\uc8fc\ucc28 "),e.setState({movies:c.weeklyBoxOfficeList,week:o,isLoading:!1});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getMovies=Object(l.a)(r.a.mark((function t(){var a,i,s,n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new Date,i=a.getTime()-6048e5,a.setTime(i),s=a.getFullYear()+("0"+(a.getMonth()+1)).slice(-2)+("0"+a.getDate()).slice(-2),t.next=6,u.a.get("https://kobis.or.kr/kobisopenapi/webservice/rest/boxoffice/searchWeeklyBoxOfficeList.json?key=52d6b26b7077c87da340d932eb3d4d85&targetDt=".concat(s));case 6:n=t.sent,(c=n.data.boxOfficeResult.weeklyBoxOfficeList).forEach((function(e){e.poster="https://file.cineq.co.kr/i.aspx?movieid=".concat(e.movieCd,"&size=210")})),e.setState({movies:c,today:"".concat(a.getFullYear()+"-"+("0"+(a.getMonth()+1)).slice(-2)+"-"+("0"+a.getDate()).slice(-2)),week:"\uc9c0\ub09c ",isLoading:!1});case 10:case"end":return t.stop()}}),t)}))),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getMovies()}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.movies,i=e.week,s=e.today;return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("input",{type:"date",max:s,onChange:this.onChange}),Object(b.jsxs)("h1",{children:[i," \uc8fc\ub9d0 \ubc15\uc2a4\uc624\ud53c\uc2a4 \uc21c\uc704"]}),t?Object(b.jsx)("div",{className:"loader",children:Object(b.jsx)("span",{className:"loader__text",children:"Loading..."})}):Object(b.jsx)("div",{className:"movies",children:a.map((function(e){return Object(b.jsx)(h,{rank:e.rank,movieNm:e.movieNm,poster:e.poster},e.rank)}))})]})}}]),a}(s.a.Component),k=j;c.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(k,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.b8b9cfbd.chunk.js.map